---
title: 用例图
date: 2025-10-28
categories: [UML建模,基本概念]
---

## 一、什么是用例图

用例图（Use Case Diagram）是 UML（统一建模语言）中用于描述系统功能需求的图形化工具。
它通过展示 **参与者（Actor）** 与 **用例（Use Case）** 之间的交互，清晰表达系统“做什么”，而不关注系统“怎么做”。

---

## 二、用例图的组成元素

1. **参与者（Actor）**

    * 系统外部与系统交互的角色，可以是人、设备或其他系统。
    * 例如：“用户”、“管理员”、“支付系统”等。

2. **用例（Use Case）**

    * 系统提供的功能或服务，通常以动宾结构命名，如“提交订单”、“查看余额”、“登录系统”。

3. **关系（Relationships）**

    * **关联（Association）**：Actor 与用例之间的交互关系，用直线连接。
    * **包含（Include）**：某用例总是包含另一个用例的行为。
    * **扩展（Extend）**：某用例在特定条件下扩展另一个用例的行为。
    * **泛化（Generalization）**：参与者或用例的继承关系，表示“是一个”的关系。

**PlantUML表示示例**：

@startuml 用例关系示例
!theme vibrant

' 定义参与者
actor "用户" as User
actor "管理员" as Admin

' 定义用例
usecase "登录系统" as Login
usecase "查看信息" as ViewInfo
usecase "管理用户" as ManageUser
usecase "高级管理" as AdvancedManage
usecase "身份验证" as Auth

' 关联关系：参与者与用例之间的直线
User -- Login
User -- ViewInfo
Admin -- ManageUser

' 包含关系：用例之间的虚线箭头和<<include>>
Login ..> Auth : <<include>>
ManageUser ..> Auth : <<include>>

' 扩展关系：用例之间的虚线箭头和<<extend>>
AdvancedManage ..> ManageUser : <<extend>>

' 泛化关系：参与者或用例之间的空心三角形箭头
Admin --|> User : 继承

@enduml

---

## 三、如何分析用例图

1. **确定系统边界**

    * 明确系统要解决的问题，划定系统范围（系统内部的功能与外部环境的交互）。

2. **识别参与者（Actor）**

    * 问题分析阶段应识别谁会与系统交互。
    * 可以是：普通用户、管理员、外部服务、第三方系统等。

3. **识别用例（Use Case）**

    * 站在用户角度思考：用户希望系统完成哪些任务？
    * 每个独立的业务目标都可以是一个用例。

4. **建立关系**

    * 明确每个参与者能执行哪些用例。
    * 确定用例之间是否存在“包含”或“扩展”关系。

5. **检查与验证**

    * 用例图应覆盖所有业务需求，且逻辑清晰。
    * 每个用例都应能追溯到具体的业务需求说明。

---

## 四、如何绘制用例图

以“校园卡消费系统”为例：

* **参与者**：学生、食堂管理员、充值系统。
* **用例**：登录系统、查看余额、充值校园卡、消费支付、查看交易记录。
* **关系说明**：

    * “消费支付” 用例 **包含（Include）** “余额验证”。
    * “查看交易记录” 用例 **包含（Include）** “登录系统”。


@startuml 校园卡消费系统用例图
!theme sketchy-outline
' 2. 全局样式配置（字体、颜色、线条）
skinparam defaultFontName "Microsoft YaHei"  ' “微软雅黑” 在部分平台需用英文名
skinparam defaultFontSize 12                 ' 全局字号
skinparam backgroundColor #f9f9f9            ' 背景色（浅灰）
skinparam classAttributeIconSize 0           ' 隐藏属性图标（更简洁）

' 3. 类样式（边框颜色、填充色、圆角）
skinparam usecase {
BackgroundColor #e8f4f8
BorderColor #2c8ebb
ArrowColor #2c8ebb
RoundCorner 8
}

' 4. 继承关系样式（虚线+箭头）
skinparam inheritance {
LineStyle dashed
LineColor #666666
ArrowColor #666666
}

' 5. 聚合关系样式（加粗线）
skinparam composition {
LineThickness 1.5
LineColor #3e7b91
}

' 6. 定义参与者
actor 学生
actor 食堂管理员
actor "充值系统" as RechargeSystem

' 7. 系统边界
rectangle "校园卡消费系统" {
usecase "登录系统" as Login
usecase "查看余额" as CheckBalance
usecase "充值校园卡" as RechargeCard
usecase "消费支付" as ConsumePayment
usecase "查看交易记录" as CheckRecords
usecase "余额验证" as VerifyBalance
}

' 8. 参与者与用例的关联
学生 -- Login
学生 -- CheckBalance
学生 -- ConsumePayment
学生 -- CheckRecords

食堂管理员 -- ConsumePayment
RechargeSystem -- RechargeCard

' 9. 用例之间的关系（包含）
ConsumePayment ..> VerifyBalance : <<include>>
CheckRecords ..> Login : <<include>>
@enduml


---
