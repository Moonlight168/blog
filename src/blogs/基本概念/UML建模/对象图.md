---
title: 对象图
date: 2025-10-28
categories: [UML建模,基本概念]
---

## 一、什么是对象图

对象图（Object Diagram）是 UML（统一建模语言）中用于表示系统在**特定时刻**对象实例及其关系的结构图。它是类图的一个具体快照，展示了类的实例以及这些实例之间的连接。

对象图主要用于描述系统运行时的一个具体场景，展示对象之间的协作关系，是理解系统动态行为的静态视图。

---

## 二、对象图的组成元素

1. **对象（Object）**

    * 用矩形表示，对象名下方有下划线
    * 格式为：`对象名:类名` 或 `:类名`（匿名对象）
    * 可以显示对象的属性值
    * 示例：

      ```
      alice:用户
      ------------------
      userId: 1001
      username: "alice"
      ```

2. **对象之间的关系**

    * **链接（Link）**：对象之间的连接关系，用实线表示，对应类图中的关联关系
    * **链接上的标签**：可以在链接上标注角色名或多重性
    * **依赖关系**：对象之间的临时依赖，用虚线箭头表示

**PlantUML表示示例**：

@startuml 对象关系示例
!theme vibrant

' 定义对象
object "alice:用户" as Alice {
userId = 1001
username = "alice"
}

object "order1:订单" as Order {
orderId = 1001
totalAmount = 999.00
}

object "payment1:支付" as Payment {
paymentId = 2001
amount = 999.00
}

object "emailService:邮件服务" as EmailService 

' 链接关系：用实线表示
Alice -- Order : 下单

' 带标签的链接关系
Order -- Payment : 关联

' 依赖关系：用虚线箭头表示
Order ..> EmailService : 发送通知

@enduml

---

## 三、如何分析对象图

1. **识别关键对象实例**

    * 从系统的具体场景或用例出发，识别出参与交互的关键对象实例
    * 确定这些对象实例的属性值和状态

2. **确定对象之间的关系**

    * 分析对象之间是如何相互关联的
    * 确定每个对象在关系中扮演的角色
    * 识别对象之间的通信路径

3. **检查对象协作的合理性**

    * 确保对象之间的交互符合业务规则
    * 验证对象的状态转换是否符合预期
    * 检查对象之间的依赖是否必要且最小化

4. **识别潜在问题**

    * 查找对象之间的循环依赖
    * 识别可能的并发访问冲突
    * 检查对象生命周期管理是否合理

---

## 四、如何绘制对象图

以“电商系统订单处理场景”为例：

**主要对象**：

* `用户对象`：代表一个具体的用户
* `商品对象`：代表一个具体的商品
* `订单对象`：代表一个具体的订单
* `订单项对象`：代表订单中的一个商品项
* `支付对象`：代表一个具体的支付记录

**关系说明**：

* 一个用户可以有多个订单
* 一个订单包含多个订单项
* 每个订单项关联一个商品
* 一个订单可以有一个支付记录

@startuml 电商系统订单处理场景对象图
!theme sketchy-outline

' === 对象定义 ===
object "alice:用户" as Alice {
userId = 1001
username = "alice"
email = "alice@example.com"
}

object "iphone:商品" as IPhone {
productId = 2001
name = "iPhone 15"
price = 6999.00
stock = 50
}

object "airpods:商品" as AirPods {
productId = 2002
name = "AirPods Pro"
price = 1899.00
stock = 100
}

object "order1001:订单" as Order {
orderId = 1001
orderTime = "2025-10-28 10:30:00"
totalAmount = 8898.00
status = "待支付"
}

object "orderItem1:订单项" as OrderItem1 {
itemId = 3001
quantity = 1
price = 6999.00
}

object "orderItem2:订单项" as OrderItem2 {
itemId = 3002
quantity = 1
price = 1899.00
}

object "payment1001:支付" as Payment {
paymentId = 4001
paymentTime = ""
amount = 8898.00
status = "未支付"
}

' === 关联关系 ===
Alice -- Order : 下单
Order -- OrderItem1 : 包含
Order -- OrderItem2 : 包含
OrderItem1 -- IPhone : 购买
OrderItem2 -- AirPods : 购买
Order -- Payment : 支付关联

@enduml


---