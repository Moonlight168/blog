---
title: 活动图（Activity Diagram）
date: 2025-11-04
categories: [UML建模,基本概念]
---------------

## 一、什么是活动图

**活动图（Activity Diagram）** 是 UML（统一建模语言）中的一种行为图，用来描述系统中**业务流程或操作过程的控制流**。
它关注的是“**做什么、先后顺序是什么**”，常用于表示一个用例的内部逻辑过程。

活动图由**活动（Activity）**、**控制流（Control Flow）**、**决策节点（Decision Node）**、**并行节点（Fork/Join Node）**等元素组成。
它可以形象地展示一个操作的执行路径、条件判断和并发分支。

---

## 二、活动图的基本组成

| 元素                      | 含义                 |
| ----------------------- | ------------------ |
| **起始节点（Start）**         | 流程的起点，用实心圆表示       |
| **活动（Activity）**        | 表示执行的动作或步骤，用圆角矩形表示 |
| **控制流（Control Flow）**   | 表示执行顺序，用箭头连接       |
| **决策节点（Decision Node）** | 表示条件判断分支，用菱形表示     |
| **并行分支/汇合（Fork/Join）**  | 表示并发执行或同步，用横线表示    |
| **结束节点（End）**           | 流程的终点，用实心圆外加一圈圆环表示 |
| **泳道（Swimlane）**        | 表示活动的责任方或执行者，用垂直分区表示 |
| **对象流（Object Flow）**    | 表示活动之间传递的数据对象，用带箭头的虚线表示 |

---

## 三、活动图基本组成


@startuml
' 活动图：基本组成示例
start
:起始节点（Start）;

:活动（Activity）;
note right
圆角矩形表示动作/步骤
end note

if (决策节点？) then (是)
  :分支 A 活动;
else (否)
  :分支 B 活动;
endif

fork
  :并行分支 1;
fork again
  :并行分支 2;
end fork

:汇合（Join）;
note left
Fork/Join 用横线表示并发/同步
end note

stop
@enduml

---

## 四、活动图的作用

1. **描述业务流程**：展示系统或模块的执行步骤和逻辑。
2. **分析用例逻辑**：帮助开发者理解一个功能的完整执行路径。
3. **发现异常分支**：通过图形化方式更容易发现遗漏的条件或错误路径。
4. **辅助系统设计**：在需求分析阶段帮助沟通和确认业务逻辑。

---

## 五、活动图与流程图的区别

| 对比项       | 活动图                  | 流程图             |
|-----------|----------------------|-----------------|
| **所属领域**  | 软件工程中的 UML 规范        | 通用逻辑表达工具        |
| **核心关注点** | **对象间的行为流转、并发与条件逻辑** | **算法步骤或业务操作顺序** |
| **并发支持**  | 支持并发（Fork/Join 节点）   | 通常不支持           |
| **标准化程度** | UML 标准定义，具有严格语义      | 非标准化，可自由绘制      |
| **适用范围**  | 用例分析、系统设计、工作流建模      | 算法逻辑、业务说明、程序流程  |
| **表示方式**  | 以“活动”为核心（圆角矩形）       | 以“过程步骤”为核心（矩形）  |

---

## 六、活动图示例

@startuml
' 综合示例：电商订单处理流程
skinparam shadowing false
skinparam defaultFontName Microsoft YaHei
skinparam activityBorderColor #000000
skinparam activityBackgroundColor #F5F5F5

|顾客|
start
:浏览商品;
:选择商品加入购物车;
#LightBlue:购物车:Cart
:提交订单;

|系统|
:验证订单信息;
if (验证通过?) then (是)
  #LightYellow:订单对象:Order
  :计算订单总额;
  |支付系统|
  :处理支付请求;
  if (支付成功?) then (是)
    #Green:支付结果:PaymentResult
    |系统|
    :更新订单状态为已支付;
    |仓库系统|
    :创建发货单;
    #Orange:发货单:Shipment
    :安排物流配送;
    |物流系统|
    :配送商品;
    |顾客|
    :确认收货;
    |系统|
    :订单完成;
  else (否)
    #Red:支付失败:PaymentError
    |系统|
    :订单支付失败;
    |顾客|
    :取消订单或重新支付;
  endif
else (否)
  :返回订单错误;
  |顾客|
  :修改订单信息;
endif
stop
@enduml

---

## 七、总结

* 活动图是 **UML 的行为建模工具**，主要用于描述系统的动态流程。
* 它比流程图更"面向对象"，能表示 **并发、同步和决策逻辑**。
* **泳道** 用于划分不同责任方，明确活动的执行者。
* **对象流** 用于展示活动之间传递的数据对象和信息。
* 常用于 **用例分析、系统流程说明、业务逻辑设计** 等场景。

---
