---
title: "å°† VuePress åšå®¢éƒ¨ç½²åˆ° GitHub Pages çš„å®Œæ•´æµç¨‹"
date: 2025-05-17
categories: ["å‰ç«¯å¼€å‘"]
tags: ["vuepress-theme-reco"]
---

æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°†ä½¿ç”¨ VuePress æ„å»ºçš„åšå®¢éƒ¨ç½²åˆ° GitHub Pages ä¸Šï¼ŒåŒ…æ‹¬æœ¬åœ°æ„å»ºã€ç”Ÿæˆé™æ€æ–‡ä»¶ã€æ¨é€åˆ° `gh-pages` åˆ†æ”¯ä»¥åŠè‡ªå®šä¹‰åŸŸåç»‘å®šç­‰ã€‚

## ä¸€ã€å‰ææ¡ä»¶

åœ¨å¼€å§‹éƒ¨ç½²ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»å®Œæˆäº†ä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

- å·²ç»æ­å»ºå¥½ VuePress é¡¹ç›®å¹¶å¯æœ¬åœ°æ­£å¸¸è®¿é—®
- å·²å°†åšå®¢é¡¹ç›®æ¨é€è‡³ GitHub ä»“åº“ï¼ˆå¦‚ï¼š`https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å`ï¼‰
- å®‰è£…äº† Node.js å’Œ Git
- æœ¬åœ°å¯æ­£å¸¸æ„å»º VuePress é™æ€æ–‡ä»¶

## äºŒã€æ„å»ºé™æ€æ–‡ä»¶

VuePress çš„æ„å»ºå‘½ä»¤ä¼šå°†æ‰€æœ‰é¡µé¢ç¼–è¯‘ä¸ºé™æ€ HTML æ–‡ä»¶ï¼Œé»˜è®¤è¾“å‡ºåœ¨ `docs/.vuepress/dist` ç›®å½•ä¸‹ï¼š

```bash
npm run build
````

æ‰§è¡ŒæˆåŠŸåï¼Œä½ ä¼šåœ¨ `docs/.vuepress/dist/` ç›®å½•ä¸‹çœ‹åˆ°ç”Ÿæˆçš„ `index.html`ã€`.js`ã€`.css` æ–‡ä»¶ç­‰ã€‚

## ä¸‰ã€éƒ¨ç½²åˆ° GitHub Pages

GitHub Pages é€šå¸¸éƒ¨ç½²åœ¨ `gh-pages` åˆ†æ”¯ä¸Šã€‚ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ‰‹åŠ¨æ¨é€éƒ¨ç½²ï¼š

### ä½¿ç”¨ bat è„šæœ¬éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bat
@echo off
echo æ­£åœ¨æ„å»º VuePress é¡¹ç›®...
call npm run build

if %ERRORLEVEL% NEQ 0 (
  echo âŒ æ„å»ºå¤±è´¥ï¼Œç»ˆæ­¢è„šæœ¬ï¼
  pause
  exit /b %ERRORLEVEL%
)

echo âœ… æ„å»ºå®Œæˆï¼Œè¿›å…¥æ„å»ºè¾“å‡ºç›®å½•...
cd .vuepress/dist

echo åˆå§‹åŒ– Git ä»“åº“...
git init
git add .
git commit -m "deploy"

echo æ¨é€åˆ° GitHub gh-pages åˆ†æ”¯...
git branch -M gh-pages
git remote add origin https://github.com/your-github-account/blog.git
git push -f origin gh-pages

echo ğŸ‰ æ›´æ–°å®Œæˆï¼
pause

```

æ³¨æ„å°† `origin` åé¢çš„é“¾æ¥æ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ã€‚

## å››ã€é…ç½® GitHub Pages

1. æ‰“å¼€ä½ çš„ GitHub ä»“åº“
2. ç‚¹å‡»ã€Settingsã€‘â†’ã€Pagesã€‘
3. é€‰æ‹©éƒ¨ç½²åˆ†æ”¯ï¼š`gh-pages`
4. Folder é€‰æ‹© `/ (root)`

## äº”ã€é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼Œä½ å¯ä»¥ï¼š

1. åœ¨ `docs/.vuepress/dist` ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `CNAME` çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
ä½ çš„åŸŸå
```

![img.png](imges/img.png)

2. ç™»å½• DNS æœåŠ¡å•†ï¼ˆå¦‚ Cloudflareï¼‰æ·»åŠ ä¸¤æ¡ CNAME è®°å½•ï¼š

![img_1.png](imges/img_1.png)

3. è¿”å› GitHub Pages è®¾ç½®é¡µé¢ï¼Œç»‘å®šè¿™ä¸ªåŸŸåï¼ˆCustom domainï¼‰ã€‚

### GitHub å¼ºåˆ¶éªŒè¯æ‰€æœ‰å¸¸è§å˜ä½“

ä¸ºé˜²æ­¢é…ç½®ç–æ¼å¯¼è‡´æœåŠ¡ä¸­æ–­ï¼ŒGitHub ä¼šä¸»åŠ¨æ¢æµ‹ `www.<your-domain>` æ˜¯å¦ä¹Ÿèƒ½æ­£ç¡®æŒ‡å‘ä½ çš„ Pages ç«™ç‚¹ã€‚å¦‚æœ DNS æ— æ³•è§£æ `www` å­åŸŸï¼ŒGitHub å°±è®¤ä¸ºâ€œåŸŸåé…ç½®ä¸å®Œæ•´â€ï¼Œä»è€ŒæŠ¥é”™ï¼š

`Domain's DNS record could not be retrieved (InvalidDNSError)`

## å…­ã€å¸¸è§é—®é¢˜æ’æŸ¥

### 1. é¡µé¢ 404 æˆ–ä¸ç”Ÿæ•ˆ

* æ£€æŸ¥ `gh-pages` åˆ†æ”¯æ˜¯å¦æˆåŠŸéƒ¨ç½²äº† `/index.html`
* æ£€æŸ¥ GitHub Pages è®¾ç½®æ˜¯å¦æŒ‡å‘äº† `gh-pages` åˆ†æ”¯
* æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–å¼ºåˆ¶åˆ·æ–°é¡µé¢

### 2. è‡ªå®šä¹‰åŸŸåæ— æ•ˆ

* æ£€æŸ¥ DNS æ˜¯å¦å·²æˆåŠŸè§£æï¼ˆä½¿ç”¨ `nslookup` å‘½ä»¤ï¼‰
* ç¡®è®¤ `CNAME` æ–‡ä»¶å·²å­˜åœ¨äº `dist` å¹¶æˆåŠŸæäº¤è‡³ `gh-pages` åˆ†æ”¯

## ä¸ƒã€æ€»ç»“

æ•´ä¸ªéƒ¨ç½²æµç¨‹çœ‹ä¼¼å¤æ‚ï¼Œå…¶å®æ ¸å¿ƒå°±æ˜¯ä¸‰æ­¥ï¼š

1. ä½¿ç”¨ `vuepress build` æ„å»ºå‡ºé™æ€ç½‘é¡µ
2. å°† `dist` ç›®å½•å†…å®¹æ¨é€åˆ° `gh-pages` åˆ†æ”¯
3. é…ç½® GitHub Pages è®¾ç½®é¡µé¢ï¼ˆå¯åŠ è‡ªå®šä¹‰åŸŸåï¼‰

å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œä½ çš„ VuePress åšå®¢å°±æˆåŠŸä¸Šçº¿å•¦ï¼

