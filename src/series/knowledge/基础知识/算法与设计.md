---
title: ç®—æ³•ä¸è®¾è®¡
date: 2025-06-02
icon: /assets/icon/ç®—æ³•ä¸è®¾è®¡.png
---

### [1.ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/description/?envType=study-plan-v2&envId=top-100-liked)
![é¢˜ç›®è¯´æ˜](imges/ç®—æ³•ä¸è®¾è®¡/ä¸‰æ•°ä¹‹å’Œ.png)


```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> result = new ArrayList<>();
        // å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæ’åºåä¾¿äºä½¿ç”¨åŒæŒ‡é’ˆæ³•ï¼Œåˆ©ç”¨æ•°ç»„çš„æœ‰åºæ€§æé«˜æŸ¥æ‰¾æ•ˆç‡
        Arrays.sort(nums);

        // éå†æ•°ç»„ï¼Œi ä½œä¸ºç¬¬ä¸€ä¸ªæ•°çš„ç´¢å¼•ï¼Œæœ€å¤šéå†åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œå› ä¸ºåé¢éœ€è¦ä¸¤ä¸ªå…ƒç´ ä¸å®ƒç»„æˆä¸‰å…ƒç»„
        for (int i = 0; i < nums.length - 2; i++) {
            // è·³è¿‡é‡å¤çš„ i å€¼ï¼Œé¿å…ç»“æœé›†ä¸­å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }

            // å·¦æŒ‡é’ˆåˆå§‹åŒ–ä¸º i çš„ä¸‹ä¸€ä¸ªä½ç½®
            int left = i + 1;
            // å³æŒ‡é’ˆåˆå§‹åŒ–ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®
            int right = nums.length - 1;

            // å½“å·¦æŒ‡é’ˆå°äºå³æŒ‡é’ˆæ—¶ï¼Œç»§ç»­å¾ªç¯æŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„
            while (left < right) {
                // è®¡ç®—å½“å‰ä¸‰ä¸ªæ•°çš„å’Œ
                int sum = nums[i] + nums[left] + nums[right];
                if (sum == 0) {
                    // å¦‚æœå’Œä¸º 0ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œå°†å…¶åŠ å…¥ç»“æœé›†
                    result.add(Arrays.asList(nums[i], nums[left], nums[right]));
                    // è·³è¿‡é‡å¤çš„ left å€¼ï¼Œé¿å…ç»“æœé›†ä¸­å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„
                    while (left < right && nums[left] == nums[left + 1]) {
                        left++;
                    }
                    // è·³è¿‡é‡å¤çš„ right å€¼ï¼Œé¿å…ç»“æœé›†ä¸­å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„
                    while (left < right && nums[right] == nums[right - 1]) {
                        right--;
                    }
                    // ç§»åŠ¨å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆï¼Œç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„
                    left++;
                    right--;
                } else if (sum < 0) {
                    // å¦‚æœå’Œå°äº 0ï¼Œè¯´æ˜éœ€è¦å¢å¤§å’Œï¼Œå°†å·¦æŒ‡é’ˆå³ç§»
                    left++;
                } else {
                    // å¦‚æœå’Œå¤§äº 0ï¼Œè¯´æ˜éœ€è¦å‡å°å’Œï¼Œå°†å³æŒ‡é’ˆå·¦ç§»
                    right--;
                }
            }
        }
        return result;
    }
}
```

### åä¸€ã€å’Œä¸º K çš„å­æ•°ç»„ï¼ˆSubarray Sum Equals Kï¼‰

#### ğŸ§© é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›å’Œä¸º `k` çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚

- è¾“å…¥ï¼š`nums = [1,2,3], k = 3`
- è¾“å‡ºï¼š`2`ï¼ˆ[1,2] ä¸ [3]ï¼‰

---

#### ğŸ“˜ è§£é¢˜æ€è·¯è§£æ

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œå‰ç¼€å’Œ + å“ˆå¸Œè¡¨ã€æ¥é™ä½æ—¶é—´å¤æ‚åº¦ï¼š

##### âœ… æ€è·¯æ­¥éª¤

1. è®¾å®šå‰ç¼€å’Œ `preSum[i]` è¡¨ç¤º `nums[0] + nums[1] + ... + nums[i - 1]`
2. è‹¥æŸä¸¤ä¸ªå‰ç¼€å’Œä¹‹å·®ä¸º `k`ï¼Œå³ï¼š`preSum[j] - preSum[i] = k`ï¼Œåˆ™è¯´æ˜åŒºé—´ `[i, j-1]` çš„å’Œä¸º `k`
3. ä½¿ç”¨ä¸€ä¸ª `Map<Integer, Integer>` å­˜å‚¨å½“å‰å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
4. æ¯æ¬¡éå†å½“å‰å‰ç¼€å’Œ `sum`ï¼Œåˆ¤æ–­ `sum - k` æ˜¯å¦åœ¨ map ä¸­ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜å­˜åœ¨è‹¥å¹²ä¸ªä¹‹å‰çš„å‰ç¼€å’Œï¼Œä½¿å¾—å®ƒä»¬ä¸å½“å‰çš„å‰ç¼€æ„æˆå’Œä¸º `k` çš„å­æ•°ç»„

---

#### ğŸ’¡ ä¸ºä»€ä¹ˆ `map.put(0, 1)`ï¼Ÿ

æˆ‘ä»¬åˆå§‹åŒ–æ—¶è®¾å®š `preSum[0] = 0`ï¼Œè¡¨ç¤ºã€Œå‰é¢æ²¡æœ‰å…ƒç´ æ—¶ï¼Œå‰ç¼€å’Œä¸º 0ã€ï¼Œè¿™æ ·å¯ä»¥å¤„ç†ã€Œä»å¼€å¤´å°±æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ã€ã€‚

---

#### âœ… Java å®ç°

```java
public int subarraySum(int[] nums, int k) {
    Map<Integer, Integer> preSumCount = new HashMap<>();
    preSumCount.put(0, 1); // åˆå§‹åŒ–å‰ç¼€å’Œä¸º0çš„ä¸ªæ•°ä¸º1

    int sum = 0, count = 0;
    for (int num : nums) {
        sum += num;

        // åˆ¤æ–­ä¹‹å‰æ˜¯å¦æœ‰æŸæ®µå‰ç¼€å’Œï¼Œä½¿å¾—å½“å‰sum - preSum = k
        if (preSumCount.containsKey(sum - k)) {
            count += preSumCount.get(sum - k);
        }

        // æ›´æ–°å½“å‰å‰ç¼€å’Œå‡ºç°æ¬¡æ•°
        preSumCount.put(sum, preSumCount.getOrDefault(sum, 0) + 1);
    }
    return count;
}

