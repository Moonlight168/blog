---
title: Elasticsearch
date: 2025-09-11
icon: /assets/icon/elasticsearch.png
---

## 说一下你对 Elasticsearch 的理解

**回答：**

Elasticsearch 就是一个基于 Lucene 的分布式搜索和分析引擎。它的核心能力是做 **全文检索**，也就是说能在海量文本里快速找到你想要的内容。

它的几个特点：

* **分布式**，数据会自动分片、副本，既能水平扩展，也能保证高可用。
* **近实时**，数据写进去之后几乎立刻就能查到，适合日志、监控这种实时性要求高的场景。
* **搜索和分析能力强**，不仅能做关键词搜索，还能做聚合统计、过滤、排序等分析。
* **接口友好**，对外暴露 RESTful API，用 HTTP/JSON 就能操作，很容易和各种语言集成。

常见的使用场景就是：日志检索（比如 ELK）、搜索引擎、电商商品检索、监控报警、实时数据分析等等。

## 你是如何在项目中使用 Elasticsearch 的？

**回答：**

在项目中，我主要用 Elasticsearch 做 **数据检索和分析**，流程大致如下：

* **集成方式**

    * 使用 **Spring Data Elasticsearch** 或 **官方 REST 高级客户端**，通过 Spring Boot 配置连接集群。
    * 在配置文件里设置集群地址、端口、索引前缀等。

* **数据建模**

    * 将业务实体映射为 **索引（Index）**，字段映射为 **类型（Type）或文档字段**。
    * 配置分词器、映射类型和必要的分析器，确保搜索效果精准。

* **数据同步**

    * 当数据库有数据新增、修改或删除时，通过 **消息队列** 或 **定时任务**同步到 Elasticsearch。
    * 保证搜索数据和业务数据库数据基本一致。

* **查询与分析**

    * 使用 **DSL 查询** 或 **Repository 方法**实现关键字搜索、分页、排序。
    * 使用 **聚合功能**做统计分析，如销量统计、访问量分析等。

* **优化**

    * 根据查询需求设置 **索引分片、副本数**，并对热数据建立缓存或优化查询条件，提高性能。

总结：我在项目中把 Elasticsearch 当作 **高性能搜索和实时分析引擎**，数据库存储核心业务数据，ES 用于快速检索和统计分析，实现了搜索功能和报表统计功能。

